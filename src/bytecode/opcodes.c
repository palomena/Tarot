#define TAROT_SOURCE
#include "tarot.h"
#include "bytecode/opcodes.h"

const char* opcode_string(enum tarot_opcode opcode) {
	const char *names[] = {
		"NoOperation",
		"Halt",
		"Debug",
		"Assert",
		"Try",
		"RaiseException",
		"Goto",
		"GotoIfFalse",
		"CallForeignFunction",
		"CallFunction",
		"Return",
		"ReturnValue",
		"PushRegion",
		"PopRegion",
		"LoadValue",
		"StoreValue",
		"CopyValue",
		"PopValue",
		"LoadArgument",
		"LoadVariablePointer",
		"LoadListIndex",
		"Track",
		"UnTrack",
		"PushTrue",
		"PushFalse",
		"LogicalAnd",
		"LogicalOr",
		"LogicalXor",
		"LogicalEquality",
		"LogicalNot",
		"PushInteger",
		"CopyInteger",
		"FreeInteger",
		"StoreInteger",
		"CastToInteger",
		"IntegerAbs",
		"IntegerNeg",
		"IntegerAddition",
		"IntegerSubtraction",
		"IntegerMultiplication",
		"IntegerDivision",
		"IntegerModulo",
		"IntegerPower",
		"IntegerLessThan",
		"IntegerLessEqual",
		"IntegerGreaterThan",
		"IntegerGreaterEqual",
		"IntegerEquality",
		"PushFloat",
		"CastToFloat",
		"FloatAbs",
		"FloatNeg",
		"FloatAddition",
		"FloatSubtraction",
		"FloatMultiplication",
		"FloatDivision",
		"FloatModulo",
		"FloatPower",
		"FloatLessThan",
		"FloatLessEqual",
		"FloatGreaterThan",
		"FloatGreaterEqual",
		"FloatEquality",
		"PushRational",
		"CopyRational",
		"StoreRational",
		"FreeRational",
		"CastToRational",
		"RationalAbs",
		"RationalNeg",
		"RationalAddition",
		"RationalSubtraction",
		"RationalMultiplication",
		"RationalDivision",
		"RationalModulo",
		"RationalPower",
		"RationalLessThan",
		"RationalLessEqual",
		"RationalGreaterThan",
		"RationalGreaterEqual",
		"RationalEquality",
		"PushString",
		"CopyString",
		"StoreString",
		"FreeString",
		"CastToString",
		"StringEquality",
		"StringContains",
		"StringConcat",
		"StringLength",
		"PushList",
		"ListIndex",
		"FreeList",
		"ListLength",
		"PushDict",
		"DictIndex",
		"FreeDict",
		"PrintBoolean",
		"PrintInteger",
		"PrintFloat",
		"PrintRational",
		"PrintString",
		"NewLine",
		"Input"
	};
	if (opcode >= 0 and opcode < lengthof(names)) {
		return names[opcode];
	}
	return "???";
}
